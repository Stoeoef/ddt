<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>DDT: MatchingSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DDT
   </div>
   <div id="projectbrief">Debate Distribution Tool</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMatchingSolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MatchingSolver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Solves the main DDT matching problem.  
 <a href="classMatchingSolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="matchingsolver_8h_source.html">matchingsolver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MatchingSolver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMatchingSolver.png" usemap="#MatchingSolver_map" alt=""/>
  <map id="MatchingSolver_map" name="MatchingSolver_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:afbd9f5c5ad885d89a319f751df5beaad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#afbd9f5c5ad885d89a319f751df5beaad">getRandomSolution</a> ()</td></tr>
<tr class="separator:afbd9f5c5ad885d89a319f751df5beaad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac69e6c3f40d3df7c55e5ff7d307acacc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#ac69e6c3f40d3df7c55e5ff7d307acacc">interrupt</a> ()</td></tr>
<tr class="separator:ac69e6c3f40d3df7c55e5ff7d307acacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a4636879fe14fc8d2b5e41dd6be4a9eed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#a4636879fe14fc8d2b5e41dd6be4a9eed">finished</a> (<a class="el" href="classSeatToSpeakerMapper.html">SeatToSpeakerMapper</a> *mapper)</td></tr>
<tr class="memdesc:a4636879fe14fc8d2b5e41dd6be4a9eed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted after a solution was found.  <a href="#a4636879fe14fc8d2b5e41dd6be4a9eed">More...</a><br/></td></tr>
<tr class="separator:a4636879fe14fc8d2b5e41dd6be4a9eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d685c64a6f848b0a3d8f42f5fe9a216"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d685c64a6f848b0a3d8f42f5fe9a216"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#a8d685c64a6f848b0a3d8f42f5fe9a216">interrupted</a> ()</td></tr>
<tr class="memdesc:a8d685c64a6f848b0a3d8f42f5fe9a216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted after a successfull interrupt. <br/></td></tr>
<tr class="separator:a8d685c64a6f848b0a3d8f42f5fe9a216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a">noSolutionFound</a> (QStringList errors)</td></tr>
<tr class="memdesc:aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted if no feasible solution exists.  <a href="#aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a">More...</a><br/></td></tr>
<tr class="separator:aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02dc51033a7a381855a1bd6fd77a39c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#af02dc51033a7a381855a1bd6fd77a39c">done</a> ()</td></tr>
<tr class="separator:af02dc51033a7a381855a1bd6fd77a39c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0b9694c01fe96c7586f218dd11f7e9bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#a0b9694c01fe96c7586f218dd11f7e9bc">MatchingSolver</a> (const QList&lt; <a class="el" href="classDebate.html">Debate</a> * &gt; *debates, const QList&lt; <a class="el" href="classSpeakerModel.html">SpeakerModel</a> * &gt; *speakers, const QList&lt; <a class="el" href="classTeam.html">Team</a> * &gt; *teams, QObject *parent)</td></tr>
<tr class="memdesc:a0b9694c01fe96c7586f218dd11f7e9bc"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classMatchingSolver.html" title="Solves the main DDT matching problem. ">MatchingSolver</a> creates a new matching solver with given problem data.  <a href="#a0b9694c01fe96c7586f218dd11f7e9bc">More...</a><br/></td></tr>
<tr class="separator:a0b9694c01fe96c7586f218dd11f7e9bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58841ead4b492150652e807e7ac4181"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad58841ead4b492150652e807e7ac4181"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchingSolver.html#ad58841ead4b492150652e807e7ac4181">isInterrupted</a> ()</td></tr>
<tr class="memdesc:ad58841ead4b492150652e807e7ac4181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the solver was interrupted. <br/></td></tr>
<tr class="separator:ad58841ead4b492150652e807e7ac4181"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Solves the main DDT matching problem. </p>
<p>DDT matches speakers to speaker roles in a debate. Only feasible matchings will be calculated, otherwise the solver signals that no solution exists. A matching is only feasible if</p>
<ul>
<li>No speaker is mapped to a role that is not allowed for him (e.g. by setting <a class="el" href="classSpeakerModel.html#ae7ddef47cf54a9ace7c2399c7a18049d">SpeakerModel::opdFfr</a> to false</li>
<li>Two beginner must not be placed in the same team</li>
<li>Teams must be placed in the same team The computational complexity of the problem hight due to the last two feasability criteria. This class uses google's constraint programming solver  or-tools to calculate optimal solutions.<br/>
The solver is not designed to calculate all solutions (the number of solutions grows exponentionally with the number of speakers) but guarantees highly randomised single solutions by shuffling the input data. New random solutions can be obtained without recreating the solver. <br/>
The class is designed to operate in its own thread, communication is done by Qt's signal/slot mechanism. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0b9694c01fe96c7586f218dd11f7e9bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatchingSolver::MatchingSolver </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="classDebate.html">Debate</a> * &gt; *&#160;</td>
          <td class="paramname"><em>debates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QList&lt; <a class="el" href="classSpeakerModel.html">SpeakerModel</a> * &gt; *&#160;</td>
          <td class="paramname"><em>speakers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QList&lt; <a class="el" href="classTeam.html">Team</a> * &gt; *&#160;</td>
          <td class="paramname"><em>teams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classMatchingSolver.html" title="Solves the main DDT matching problem. ">MatchingSolver</a> creates a new matching solver with given problem data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">debates</td><td>The debates considered for this matching. </td></tr>
    <tr><td class="paramname">speakers</td><td>The speakers considered for this matching. </td></tr>
    <tr><td class="paramname">teams</td><td>The teams considered for this matching. </td></tr>
    <tr><td class="paramname">parent</td><td>The solver's parent object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af02dc51033a7a381855a1bd6fd77a39c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MatchingSolver::done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called after either <a class="el" href="classMatchingSolver.html#a4636879fe14fc8d2b5e41dd6be4a9eed">finished</a>, <a class="el" href="classMatchingSolver.html#a8d685c64a6f848b0a3d8f42f5fe9a216">interrupted</a> or <a class="el" href="classMatchingSolver.html#aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a">noSolutionFound</a> have been called. The solver becomes inactive afterwards. </p>

</div>
</div>
<a class="anchor" id="a4636879fe14fc8d2b5e41dd6be4a9eed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MatchingSolver::finished </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSeatToSpeakerMapper.html">SeatToSpeakerMapper</a> *&#160;</td>
          <td class="paramname"><em>mapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted after a solution was found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapper</td><td>a feasible, freshly calculated solution. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afbd9f5c5ad885d89a319f751df5beaad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MatchingSolver::getRandomSolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Starts the calculation of a new random solution. Once the calculation is finished, <a class="el" href="classMatchingSolver.html#aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a">noSolutionFound</a> or <a class="el" href="classMatchingSolver.html#a4636879fe14fc8d2b5e41dd6be4a9eed">finished</a> is signaled. </p>

</div>
</div>
<a class="anchor" id="ac69e6c3f40d3df7c55e5ff7d307acacc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MatchingSolver::interrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Asks the solver to interrupt the current solving process. The call has no effect if no calculation is running. After a succesfull interrupt, <a class="el" href="classMatchingSolver.html#a8d685c64a6f848b0a3d8f42f5fe9a216">interrupted</a> is signaled. </p>

</div>
</div>
<a class="anchor" id="aaf7b8cbfb8ee9a55ef5a10bc20ef5e7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MatchingSolver::noSolutionFound </td>
          <td>(</td>
          <td class="paramtype">QStringList&#160;</td>
          <td class="paramname"><em>errors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted if no feasible solution exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errors</td><td>a (potentially empty) list of reasons why no solution could be found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/stoef/qt/projects/ddt/ddt/src/<a class="el" href="matchingsolver_8h_source.html">matchingsolver.h</a></li>
<li>/home/stoef/qt/projects/ddt/ddt/src/matchingsolver.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 22 2013 18:21:59 for DDT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
